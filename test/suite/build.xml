<project name="tritonus_tests" default="compile" basedir=".">
  <target name="init">
    <property name="src" value="src" />
    <property name="build" value="." />
  </target>


  <target name="prepare" depends="init">
    <mkdir dir="${build}" />
  </target>


  <target name="compile" depends="prepare">
    <javac srcdir="${src}"
	   destdir="${build}"
	   excludes="AlsaSeqTestCase.java,AlsaCtlTestCase.java,AlsaMixerTestCase.java"/>
  </target>

  <target name="test"
	  depends="test-audiofilereader,test-dataoutputstream,test-audiooutputstream">
  </target>

  <target name="test-audiofilereader"
	  depends="compile">
    <junit fork="no" printsummary="yes">
      <!--sysproperty key="tritonus.TraceAudioFileReader" value="true" /-->
      <!--sysproperty key="tritonus.TraceAudioSystem" value="true" /-->
      <!--sysproperty key="tritonus.TraceService" value="true" /-->
      <formatter type="plain" />
      <test name="AiffAudioFileReaderTestCase" />
      <test name="AuAudioFileReaderTestCase" />
      <test name="AuZeroDataLengthAudioFileReaderTestCase" />
      <test name="WaveAudioFileReaderTestCase" />
      <test name="GSMAudioFileReaderTestCase" />
      <test name="Mp3AudioFileReaderTestCase" />
<!--
      <test name="VorbisAudioFileReaderTestCase" />
-->
    </junit>
  </target>


  <target name="test-audiooutputstream"
	  depends="compile">
    <junit fork="no" printsummary="yes">
      <!--sysproperty key="tritonus.TraceAudioFileReader" value="true" /-->
      <!--sysproperty key="tritonus.TraceAudioSystem" value="true" /-->
      <!--sysproperty key="tritonus.TraceService" value="true" /-->
      <formatter type="plain" />
      <test name="AuAudioOutputStreamTestCase" />
    </junit>
  </target>


  <target name="test-dataoutputstream"
	  depends="compile">
    <junit fork="no" printsummary="yes">
      <!--sysproperty key="tritonus.TraceAudioFileReader" value="true" /-->
      <!--sysproperty key="tritonus.TraceAudioSystem" value="true" /-->
      <!--sysproperty key="tritonus.TraceService" value="true" /-->
      <formatter type="plain" />
      <test name="TDataOutputStreamTestCase" />
    </junit>
  </target>


  <target name="test-midi"
	  depends="compile">
    <junit fork="no" printsummary="yes">
      <!--sysproperty key="tritonus.TraceAudioFileReader" value="true" /-->
      <!--sysproperty key="tritonus.TraceAudioSystem" value="true" /-->
      <!--sysproperty key="tritonus.TraceService" value="true" /-->
      <formatter type="plain" />
      <test name="MidiMessageTestCase" />
    </junit>
  </target>


  <target name="test-control"
	  depends="compile">
    <junit fork="no" printsummary="yes">
      <formatter type="plain" />
      <test name="ControlTestCase" />
    </junit>
  </target>
</project>
